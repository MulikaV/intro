{"ast":null,"code":"import * as axios from \"axios\";\nimport { reducer as formReducer } from 'redux-form';\nimport createSagaMiddleware from 'redux-saga';\nimport posts from \"./reducers/posts\";\nimport { createRequestInstance, success, watchRequests } from \"redux-saga-requests\";\nimport { createDriver } from \"redux-saga-requests-axios\";\nimport { applyMiddleware, combineReducers, createStore } from \"redux\";\nimport { takeLatest, all, put } from \"redux-saga/effects\";\nimport { getAllPosts } from \"./actions/posts\";\n\nfunction* fetchAllPosts() {\n  yield put(getAllPosts());\n}\n\nfunction* rootSaga() {\n  yield createRequestInstance({\n    driver: createDriver(axios.create({\n      baseURL: 'https://5e4aae066eafb7001488c7c7.mockapi.io'\n    }))\n  });\n  yield all([watchRequests(), takeLatest(success('ADD_POST'), fetchAllPosts), takeLatest(success('DELETE_POST'), fetchAllPosts)]);\n}\n\nexport const configureStore = () => {\n  const sagaMiddleware = createSagaMiddleware();\n  const store = createStore(combineReducers({\n    posts,\n    form: formReducer\n  }), applyMiddleware(sagaMiddleware));\n  sagaMiddleware.run(rootSaga);\n  return store;\n};","map":{"version":3,"sources":["/var/www/sites/Intro/src/store/index.js"],"names":["axios","reducer","formReducer","createSagaMiddleware","posts","createRequestInstance","success","watchRequests","createDriver","applyMiddleware","combineReducers","createStore","takeLatest","all","put","getAllPosts","fetchAllPosts","rootSaga","driver","create","baseURL","configureStore","sagaMiddleware","store","form","run"],"mappings":"AAAA,OAAO,KAAKA,KAAZ,MAAuB,OAAvB;AACA,SAAQC,OAAO,IAAIC,WAAnB,QAAqC,YAArC;AACA,OAAOC,oBAAP,MAAiC,YAAjC;AACA,OAAOC,KAAP,MAAkB,kBAAlB;AACA,SAAQC,qBAAR,EAA+BC,OAA/B,EAAwCC,aAAxC,QAA4D,qBAA5D;AACA,SAAQC,YAAR,QAA2B,2BAA3B;AACA,SAAQC,eAAR,EAAyBC,eAAzB,EAA0CC,WAA1C,QAA4D,OAA5D;AACA,SAAQC,UAAR,EAAmBC,GAAnB,EAAuBC,GAAvB,QAAiC,oBAAjC;AACA,SAAQC,WAAR,QAA0B,iBAA1B;;AAGA,UAAUC,aAAV,GAA0B;AACtB,QAAMF,GAAG,CAACC,WAAW,EAAZ,CAAT;AACH;;AAED,UAAUE,QAAV,GAAqB;AACjB,QAAMZ,qBAAqB,CAAC;AACxBa,IAAAA,MAAM,EAAEV,YAAY,CAChBR,KAAK,CAACmB,MAAN,CAAa;AACTC,MAAAA,OAAO,EAAE;AADA,KAAb,CADgB;AADI,GAAD,CAA3B;AAOA,QAAMP,GAAG,CAAC,CACNN,aAAa,EADP,EAENK,UAAU,CAACN,OAAO,CAAC,UAAD,CAAR,EAAqBU,aAArB,CAFJ,EAGNJ,UAAU,CAACN,OAAO,CAAC,aAAD,CAAR,EAAwBU,aAAxB,CAHJ,CAAD,CAAT;AAKH;;AAED,OAAO,MAAMK,cAAc,GAAG,MAAM;AAChC,QAAMC,cAAc,GAAGnB,oBAAoB,EAA3C;AACA,QAAMoB,KAAK,GAAGZ,WAAW,CACrBD,eAAe,CAAC;AACZN,IAAAA,KADY;AAEZoB,IAAAA,IAAI,EAAEtB;AAFM,GAAD,CADM,EAKrBO,eAAe,CAACa,cAAD,CALM,CAAzB;AAOAA,EAAAA,cAAc,CAACG,GAAf,CAAmBR,QAAnB;AACA,SAAOM,KAAP;AACH,CAXM","sourcesContent":["import * as axios from \"axios\";\nimport {reducer as formReducer} from 'redux-form'\nimport createSagaMiddleware from 'redux-saga';\nimport posts from \"./reducers/posts\";\nimport {createRequestInstance, success, watchRequests} from \"redux-saga-requests\";\nimport {createDriver} from \"redux-saga-requests-axios\";\nimport {applyMiddleware, combineReducers, createStore} from \"redux\";\nimport {takeLatest,all,put} from \"redux-saga/effects\";\nimport {getAllPosts} from \"./actions/posts\";\n\n\nfunction* fetchAllPosts() {\n    yield put(getAllPosts());\n}\n\nfunction* rootSaga() {\n    yield createRequestInstance({\n        driver: createDriver(\n            axios.create({\n                baseURL: 'https://5e4aae066eafb7001488c7c7.mockapi.io'\n            }),\n        )\n    });\n    yield all([\n        watchRequests(),\n        takeLatest(success('ADD_POST'),fetchAllPosts),\n        takeLatest(success('DELETE_POST'),fetchAllPosts),\n    ])\n}\n\nexport const configureStore = () => {\n    const sagaMiddleware = createSagaMiddleware();\n    const store = createStore(\n        combineReducers({\n            posts,\n            form: formReducer\n        }),\n        applyMiddleware(sagaMiddleware),\n    );\n    sagaMiddleware.run(rootSaga);\n    return store;\n};"]},"metadata":{},"sourceType":"module"}